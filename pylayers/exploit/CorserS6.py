import pylayers.simul.simultraj as st
from pylayers.measures.cormoran import *
import numpy as np

# load CorSer 6 (default)
C = CorSer(serie=6,day=11)
# create a Simulation from CorSer motion capture file
S = st.Simul(C,verbose=True)
# create a dictionnary from  links
llinks = S.N.links['ieee802154']
link={'ieee802154':[]}

# select link of interest
# TorsoTopRight(6) - AP1(1,2,3,4)
#link['ieee802154'].append(S.N.links['ieee802154'][100])
#link['ieee802154'].append(S.N.links['ieee802154'][101])
#link['ieee802154'].append(S.N.links['ieee802154'][102])
#link['ieee802154'].append(S.N.links['ieee802154'][85])
# BackCenter(8) - AP1(1,2,3,4)

link['ieee802154'].append(S.N.links['ieee802154'][112])
#link['ieee802154'].append(S.N.links['ieee802154'][115])
#link['ieee802154'].append(S.N.links['ieee802154'][117])
#link['ieee802154'].append(S.N.links['ieee802154'][90])
# Max entropy link (104)
#link['ieee802154'].append(S.N.links['ieee802154'][104])#
#link['ieee802154'].append(S.N.links['ieee802154'][48])#
#link['ieee802154'].append(S.N.links['ieee802154'][36])# 15-7
#link['ieee802154'].append(S.N.links['ieee802154'][17])#
#link['ieee802154'].append(S.N.links['ieee802154'][8])#


#lt = C.tmocap[::10]
lt = C.tmocap[::500]

#S.run(links=link,t=lt)
dval = S.get_value(links=link,typ=['H'],t=0)
